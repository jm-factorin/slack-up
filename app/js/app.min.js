!function(){var t=function(){$(document.body).on("click",'[data-action="mention"]',function(t){var e=$("textarea#message-input");if(!e.prop("disabled")){var a=e.val()+"@"+$(t.target).data("mention");e.val(a.trim()+" ").trigger("autosize").trigger("autosize-resize").focus()}});var t=TS.templates.builders.buildMsgHTML;TS.templates.builders.buildMsgHTML=function(e,a){var i=t(e,a);try{var s=$("<div>").html(i),r=s.find("a.message_sender").attr("href"),n=s.find("div.action_hover_container");if(r){var d=$("<a>").attr("data-action","mention").attr("data-mention",r.split("/")[2]).addClass("ts_icon ts_icon_mentions").addClass("ts_tip ts_tip_top ts_tip_float ts_tip_delay_600 ts_tip_hidden").append($("<span>").addClass("ts_tip_tip").html("Mention"));n.prepend(d)}return s.html()}catch(o){return console.error(o),i}};var e=TS.templates.member;TS.templates.member=function(t){var a=e(t),i=$("<div>").html(a),s=$("<img>");s.css("display","inline-block"),s.css("margin","0 0 5px 5px"),s.css("border-radius","3px"),s.css("height","20px"),s.css("width","20px");var r=i.find("span.presence")[0],n=i.find("i.slackbot_icon")[0];if(n)s.attr("src","https://slack.global.ssl.fastly.net/66f9/img/slackbot_24.png"),s.insertAfter($(n));else{var d=TS.members.getMemberById($(r).data("member-presence"));s.attr("src",d.profile.image_24),s.insertAfter($(r))}return i.html()}},e=document.createElement("script");e.type="text/javascript",e.innerHTML="("+t.toString()+")();",document.body.appendChild(e)}();